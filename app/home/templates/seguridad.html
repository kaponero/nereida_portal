{% extends "accounts/base.html" %}

{% block title %} Portal {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block links %}
<link rel="stylesheet" href="{{ url_for("static", filename="asset/css/seguridadstyles.css") }}">
{% endblock %}

{% block content %}

    <!-- -------------------------Menu de navegacion-------------------------------->
    <div class="contenedor">
        <div class="navigation">
            <ul>
                <li>
                    <a id="brandname" href="#">
                        <span class="icon">
                            <ion-icon name="planet-outline"></ion-icon>
                        </span>
                        <span class="title">Nereida Autogestion</span>
                    </a>
                </li>

                <li>
                    <a href="/index">
                        <span class="icon">
                            <ion-icon name="home-outline"></ion-icon>
                        </span>
                        <span class="title">Resumen</span>
                    </a>
                </li>

                <li>
                    <a href="/comprobantes">
                        <span class="icon">
                            <ion-icon name="receipt-outline"></ion-icon>
                        </span>
                        <span class="title">Comprobantes</span>
                    </a>
                </li>

                <li>
                    <a href="/perfil">
                        <span class="icon">
                            <ion-icon name="person-outline"></ion-icon>
                        </span>
                        <span class="title">Perfil</span>
                    </a>
                </li>

                <li>
                    <a href="#">
                        <span class="icon">
                            <ion-icon name="shield-outline"></ion-icon>
                        </span>
                        <span class="title">Seguridad</span>
                    </a>
                </li>

                <li>
                    <a href="/notificaciones">
                        <span class="icon">
                            <ion-icon name="notifications-outline"></ion-icon>
                        </span>
                        <span class="title">Notificaciones</span>
                    </a>
                </li>

                <li>
                    <a href="/logout">
                        <span class="icon">
                            <ion-icon name="log-out-outline"></ion-icon>
                        </span>
                        <span class="title">Salir</span>
                    </a>
                </li>
            </ul>
            
        </div>

        <!-- -------------------------- Main ------------------------------->
        <div class="main">
            <div class="topbar">
                <div class="toggle">
                    <ion-icon name="menu-outline"></ion-icon>
                </div>
                <div class="name">
                    <h2>{{ subscriptor.party.rec_name }}</h2>
                    </div>
                <div class="user">
                    <ion-icon name="person-circle-outline"></ion-icon>
                </div>
            </div>

            <!-- -------------------- Seguridad -------------------------------->

            <div class="perfil">
                <div class="configuracion">
<!--                     <form id="f-psw" onsubmit="verificarPasswords(); return false" method="POST"> -->
                    <form id="f-psw" method="post" >
                        {{ form.hidden_tag() }}
                        <h2>Cambiar contrase単a</h2>

                        
                        {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            <ul>
                            {% for message in messages %}
                            <li>{{ message }}</li>
                            {% endfor %}
                            </ul>
                            <br>
                        {% endif %}
                        {% endwith %}
                        
                        {{ form.password(class="form-control",id="psw",placeholder="Contrase単a actual", required=true) }}
                        <ion-icon  class="ojo" id="actual" name="eye-outline"></ion-icon>
                        
                        {{ form.new_password( class="form-control", placeholder="Nueva contrase単a",id="new_psw", required=true) }}
                        <ion-icon  class="ojo" id="nueva" name="eye-outline"></ion-icon>
                        
                        {{ form.password_confirmation( class="form-control", placeholder="Repetir contrase単a", id="repite_psw", required=true) }}
                        <ion-icon  class="ojo" id="repite" name="eye-outline"></ion-icon>

                        <input type="submit" value="Guardar">
                    </form>
                </div>
            </div>
            <div class="modal_wrapper">
                <div class="shadow"></div>
                <div class="success_wrap">
                    <div class="alert">
                        <span class="modal_icon">
                            <ion-icon id="icon-error" name="alert-circle-outline"></ion-icon>
                            <ion-icon id="icon-ok" name="checkmark-circle-outline" style="display: none;"></ion-icon>
                        </span>
                        <p id="mensaje"></p>
                    </div>
                    <div class="boton">
                        <input id="btns" type="submit" value="Aceptar" onclick="cerrar()">
                    </div>
                </div>
            </div>
        </div>

    </div>

    



{% endblock content %}

{% block javascripts %}

<!-- --------------------- scripts ----------------------- -->
<script type="text/javascript" src="{{ url_for('static',filename='asset/js/main.js') }}"></script>

<!-- -------------------- ionicons ----------------------- -->
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

{% endblock javascripts %}
